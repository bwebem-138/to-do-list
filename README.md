# 🔒 Secure Todo List Application

A secure task management application built with Flask and MariaDB, featuring encrypted data storage, user authentication, and HTTPS support.

## ⚠️ Security Notice

**CRITICAL:** Before deploying this application:

1. Run the initialization script to generate secure credentials:
   ```powershell
   .\generate-env.ps1
   ```
   This script will:
   - Generate secure random passwords
   - Create the encryption keyfile
   - Set up MariaDB encryption configuration
   - Generate the .env file with all required variables

## 🎯 Features

- ✅ Secure user authentication
- 🔐 Encrypted database storage
- 📝 Task management
- 👤 User account controls
- 🔒 HTTPS support
- 🐳 Docker deployment

## 🛠️ Technology Stack

| Component | Technology |
|-----------|------------|
| Backend | Python/Flask |
| Database | MariaDB (Encrypted) |
| Server | Gunicorn |
| SSL | Self-signed |
| Containerization | Docker |
| Frontend | HTML/CSS |

## 📦 Installation

1. Clone the repository:
   ```powershell
   git clone https://github.com/bwebem-138/to-do-list.git
   cd to-do-list
   ```

2. Generate security configuration:
   ```powershell
   .\generate-env.ps1
   ```

3. Generate SSL certificates:
   ```powershell
   .\generate-certs.ps1
   ```

4. Start the application:
   ```powershell
   docker compose up --build
   ```

## 🏗️ Project Structure

```
to-do-list/
├── app/                        # Application code
│   ├── static/                # Static assets
│   │   └── styles.css
│   ├── templates/             # HTML templates
│   │   ├── base.html
│   │   ├── login.html
│   │   ├── register.html
│   │   └── tasks.html
│   ├── app.py                # Main application file
│   └── requirements.txt      # Python dependencies
├── config/                   # Configuration directory
│   ├── mysql/               # MySQL specific config
│   │   └── encryption/     # Encryption settings
│   │       └── keyfile    # Database encryption key
│   └── encryption.cnf     # MariaDB encryption config
├── ssl/                    # SSL certificates
│   ├── cert.pem           # Public certificate
│   ├── key.pem            # Private key
│   └── certificate.pfx    # PKCS#12 bundle
├── database.sql           # Database schema
├── docker-compose.yml     # Docker configuration
├── Dockerfile            # Application container
├── generate-env.ps1     # Security setup script
├── generate-certs.ps1   # SSL certificate generator
├── .env                 # Environment variables (generated)
├── .gitignore          # Git ignore rules
└── README.md           # Project documentation
```

## ⚙️ Configuration Files

### Database Encryption
- `config/mysql/encryption/keyfile`: Contains the encryption key for MariaDB
- `config/encryption.cnf`: MariaDB encryption configuration

### Environment Variables
The `.env` file (generated by generate-env.ps1) contains:
```ini
# Database Configuration
MYSQL_HOST=db
MYSQL_ROOT_PASSWORD=<generated>
MYSQL_USER=todo_user
MYSQL_PASSWORD=<generated>
MYSQL_DATABASE=todo_db

# Flask Configuration
FLASK_APP=app.py
FLASK_SECRET_KEY=<generated>
FLASK_DEBUG=0
FLASK_HOST=0.0.0.0
FLASK_PORT=443

# SSL Configuration
SSL_CERT_PATH=/app/ssl/cert.pem
SSL_KEY_PATH=/app/ssl/key.pem
SSL_PFX_PATH=/app/ssl/certificate.pfx

# Encryption Configuration
DB_ENCRYPTION_KEY=<generated>

# Domain Configuration
DOMAIN_NAME=todolist.ch
```

## 🌐 Access

- HTTPS: https://localhost:443
- Domain: https://yourdomain.com (if configured)

## ⚠️ Disclaimer

This code is provided as an educational example and should not be used in production environments without proper security review.

*Remember to replace all default credentials before deployment!*
*Remember to never commit sensitive files (.env, keyfile, SSL certificates) to version control!*